{"version":3,"sources":["../src/js/lang.js"],"names":["Lang","langData","language","LoadDataJSON","rootUrl","then","data","dataLangElems","document","querySelectorAll","i","length","el","text","getAttribute","nodeName","inputType","setAttribute","innerHTML","documentElement","console","log","load","forEach","style","lang","querySelector","addEventListener"],"mappings":"AAAA;;;;;;;;IAEMA,I;;;AACJ,kBAAc;AAAA;;AACZ;AACA,SAAKC,QAAL,GAAgB,EAAhB;AACD;;;;yBAEIC,Q,EAAU;AAAA;;AACbC,MAAAA,YAAY,WAAIC,OAAJ,mBAAZ,CAAwCC,IAAxC,CAA6C,UAAAC,IAAI,EAAI;AAEnD,QAAA,KAAI,CAACL,QAAL,GAAgBK,IAAhB,CAFmD,CAInD;;AACA,QAAA,KAAI,CAACC,aAAL,GAAqBC,QAAQ,CAACC,gBAAT,CAA0B,aAA1B,CAArB,CALmD,CAOnD;;AACA,aAAI,IAAIC,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAG,KAAI,CAACH,aAAL,CAAmBI,MAAtC,EAA8CD,CAAC,EAA/C,EAAmD;AAEjD,cAAIE,EAAE,GAAG,KAAI,CAACL,aAAL,CAAmBG,CAAnB,CAAT;;AACA,cAAIG,IAAI,GAAG,KAAI,CAACZ,QAAL,CAAcC,QAAd,EAAwBU,EAAE,CAACE,YAAH,CAAgB,WAAhB,CAAxB,CAAX;;AAEA,cAAGF,EAAE,CAACG,QAAH,KAAgB,OAAnB,EAA4B;AAAE;AAC5B,gBAAIC,SAAS,GAAGJ,EAAE,CAACE,YAAH,CAAgB,MAAhB,CAAhB;;AACA,gBAAGE,SAAS,KAAK,OAAjB,EAA0B;AACxBJ,cAAAA,EAAE,CAACK,YAAH,CAAgB,aAAhB,EAA+BJ,IAA/B;AACD,aAFD,MAEO,IAAIG,SAAS,KAAK,QAAlB,EAA4B;AACjCJ,cAAAA,EAAE,CAACK,YAAH,CAAgB,OAAhB,EAAyBJ,IAAzB;AACD;AACF,WAPD,MAOO;AAAE;AACPD,YAAAA,EAAE,CAACM,SAAH,GAAeL,IAAf;AACD;AAEF;;AAEDL,QAAAA,QAAQ,CAACW,eAAT,CAAyBF,YAAzB,CAAsC,MAAtC,EAA8Cf,QAA9C;AACAkB,QAAAA,OAAO,CAACC,GAAR,kCAAsCnB,QAAtC;AACD,OA5BD;AA6BD;;;6BAEQ;AACP,WAAKoB,IAAL,CAAUd,QAAQ,CAACW,eAAT,CAAyBL,YAAzB,CAAsC,MAAtC,CAAV;AACD,K,CAED;;;;2BACO;AACL,WAAKP,aAAL,CAAmBgB,OAAnB,CAA2B,UAAAX,EAAE,EAAI;AAC/BA,QAAAA,EAAE,CAACY,KAAH,GAAW,4BAAX;AACD,OAFD;AAGD,K,CAED;;;;2BACO;AACL,WAAKjB,aAAL,CAAmBgB,OAAnB,CAA2B,UAAAX,EAAE,EAAI;AAC/BA,QAAAA,EAAE,CAACY,KAAH,GAAW,EAAX;AACD,OAFD;AAGD;;;;;;AAGH,IAAIC,IAAI,GAAG,IAAIzB,IAAJ,EAAX;AACAyB,IAAI,CAACH,IAAL,CAAU,IAAV;AAEAd,QAAQ,CAACkB,aAAT,CAAuB,KAAvB,EAA8BC,gBAA9B,CAA+C,OAA/C,EAAwD,YAAW;AACjEF,EAAAA,IAAI,CAACH,IAAL,CAAU,IAAV;AACD,CAFD;AAGAd,QAAQ,CAACkB,aAAT,CAAuB,MAAvB,EAA+BC,gBAA/B,CAAgD,OAAhD,EAAyD,YAAW;AAClEF,EAAAA,IAAI,CAACH,IAAL,CAAU,KAAV;AACD,CAFD","sourcesContent":["'use strict';\r\n\r\nclass Lang {\r\n  constructor() {\r\n    // lang strings from JSON file\r\n    this.langData = \"\";\r\n  }\r\n\r\n  load(language) {\r\n    LoadDataJSON(`${rootUrl}src/lang.json`).then(data => {\r\n\r\n      this.langData = data;\r\n\r\n      // elements on the website with data-lang attribute\r\n      this.dataLangElems = document.querySelectorAll('[data-lang]');\r\n\r\n      // assign each data-lang element its equivalent in the JSON lang data\r\n      for(let i = 0; i < this.dataLangElems.length; i++) {\r\n\r\n        let el = this.dataLangElems[i];\r\n        let text = this.langData[language][el.getAttribute('data-lang')];\r\n\r\n        if(el.nodeName === 'INPUT') { // if element is an input\r\n          let inputType = el.getAttribute('type');\r\n          if(inputType === 'email') {\r\n            el.setAttribute('placeholder', text);\r\n          } else if (inputType === 'submit') {\r\n            el.setAttribute('value', text);\r\n          }\r\n        } else { // typical text element like h1, p, a\r\n          el.innerHTML = text;\r\n        }\r\n\r\n      }\r\n\r\n      document.documentElement.setAttribute('lang', language);\r\n      console.log(`Lang: Loaded language: ${language}`);\r\n    });\r\n  }\r\n\r\n  reload() {\r\n    this.load(document.documentElement.getAttribute('lang'));\r\n  }\r\n\r\n  // mark all data-lang elements\r\n  show() {\r\n    this.dataLangElems.forEach(el => {\r\n      el.style = 'border: deeppink 1px solid';\r\n    });\r\n  }\r\n\r\n  // hide marking of all data-lang elements\r\n  hide() {\r\n    this.dataLangElems.forEach(el => {\r\n      el.style = '';\r\n    });\r\n  }\r\n}\r\n\r\nlet lang = new Lang();\r\nlang.load('pl');\r\n\r\ndocument.querySelector('#pl').addEventListener('click', function() {\r\n  lang.load('pl');\r\n});\r\ndocument.querySelector('#eng').addEventListener('click', function() {\r\n  lang.load('eng');\r\n});\r\n"],"file":"lang.js"}