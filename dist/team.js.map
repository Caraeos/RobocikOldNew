{"version":3,"sources":["../src/js/team.js"],"names":["teamData","teamData_len","slider_current_member","sliderChooseMember","member","member_i","sliderCheckInfo","data","el","sliderContact","sliderRole","classList","add","sliderName","replace","remove","sliderText","length","sliderChangeInfo","team","forEach","name","role","contact","text","innerHTML","sliderFadeIn","direction","sliderImgs","sliderFadeOut","sliderSlide","PreloadTeamPhotos","i","img","document","createElement","setAttribute","rootUrl","photo","sliderPhoto","appendChild","querySelectorAll","window","addEventListener","LoadDataJSON","then","progressbar","start","Progressbar","querySelector","sliderArrowPrevious","sliderArrowNext","stop"],"mappings":"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","sourcesContent":["'use strict';\r\n\r\nlet teamData; // full data from from src/team.json\r\nlet teamData_len; // amount of team members\r\n\r\n\r\n// member from the array being shown in the slider\r\n// start at -1 (no member shown)\r\nlet slider_current_member = -1;\r\n\r\nfunction sliderChooseMember(member) {\r\n  let member_i = slider_current_member;\r\n\r\n  if (member === 'previous') {\r\n    if ((slider_current_member - 1) < 0) {\r\n      // if out of range then take the last person\r\n      member_i = teamData_len - 1;\r\n    } else {\r\n      member_i -= 1;\r\n    }\r\n\r\n  } else if (member === 'next') {\r\n    if( (slider_current_member + 1) === teamData_len ) {\r\n      // if out of range then take the first person\r\n      member_i = 0;\r\n    } else {\r\n      member_i += 1;\r\n    }\r\n\r\n  } else {\r\n    member_i = member;\r\n  }\r\n\r\n  slider_current_member = member_i;\r\n  return member_i;\r\n}\r\n\r\n\r\n\r\n// modify the data depending on the slider category\r\nfunction sliderCheckInfo(data, el) {\r\n  if(data === '') { // no data\r\n\r\n    if (el === sliderContact || el === sliderRole) {\r\n      data = 'Co ty tu robisz czarodzieju?';\r\n      el.classList.add('slider__el--invisible');\r\n    }\r\n\r\n  } else {\r\n\r\n    if (el === sliderName) {\r\n      data = data.replace(' ', '<br>');\r\n    }\r\n\r\n    if (el === sliderRole || el === sliderContact) {\r\n      el.classList.remove('slider__el--invisible');\r\n    }\r\n\r\n    if (el === sliderText) {\r\n      if (data.length > 130) {\r\n        data = 'ERROR: THE TEXT WAS TOO LONG';\r\n      } else {\r\n        data = '\"' + data + '\"';\r\n      }\r\n    }\r\n\r\n  }\r\n  return data;\r\n}\r\n\r\nfunction sliderChangeInfo(member_i) {\r\n  let member = teamData.team[member_i];\r\n\r\n  [sliderName, sliderRole, sliderContact, sliderText].forEach(el => {\r\n    let data = '';\r\n\r\n    if(el === sliderName)    { data = sliderCheckInfo(member.name,    el); }\r\n    if(el === sliderRole)    { data = sliderCheckInfo(member.role,    el); }\r\n    if(el === sliderContact) { data = sliderCheckInfo(member.contact, el); }\r\n    if(el === sliderText)    { data = sliderCheckInfo(member.text,    el); }\r\n\r\n    el.innerHTML = data;\r\n  });\r\n}\r\n\r\n\r\n\r\nfunction sliderFadeIn(direction) {\r\n  // show person's info\r\n  sliderChangeInfo(sliderChooseMember(direction));\r\n\r\n  // show photo\r\n  sliderImgs[slider_current_member].classList.remove('slider__img--hidden');\r\n}\r\n\r\nfunction sliderFadeOut() {\r\n  // make photo transparent\r\n  sliderImgs[slider_current_member].classList.add('slider__img--hidden');\r\n}\r\n\r\nfunction sliderSlide(direction) {\r\n  // fade out the previous photo\r\n  // (-1 means no member was shown yet, hence there is no photo to fade out)\r\n  if(slider_current_member !== -1) {\r\n    sliderFadeOut();\r\n  }\r\n\r\n  // show next info and photo\r\n  sliderFadeIn(direction);\r\n}\r\n\r\n\r\n\r\n// preload photos to browser memory for faster loading when switching between people\r\nfunction PreloadTeamPhotos() {\r\n  for(let i = 0; i < teamData_len; i++) {\r\n    // new Image().src = rootUrl + teamData.team[i].photo;\r\n\r\n    let img = document.createElement('img');\r\n    img.classList.add('slider__el');\r\n    img.classList.add('slider__img--hidden');\r\n    img.classList.add('slider__img');\r\n    img.setAttribute('src', rootUrl + teamData.team[i].photo);\r\n\r\n    sliderPhoto.appendChild(img);\r\n\r\n    sliderImgs = document.querySelectorAll(\r\n      '.slider__img');\r\n  }\r\n}\r\n\r\n// when site loads: load team data. preload photos, load the first person, activate the progressbar\r\nwindow.addEventListener('load', ()=>{\r\n  LoadDataJSON(`${rootUrl}src/team.json`).then(data => {\r\n    teamData = data;\r\n    teamData_len = data.team.length;\r\n    PreloadTeamPhotos();\r\n    sliderSlide('next');\r\n    progressbar.start(); // run the progressbar from progressbar.js\r\n  });\r\n});\r\n\r\n\r\n\r\n/* ProgressBar */\r\nlet progressbar = new Progressbar(\r\n  document.querySelector('.slider__progress-bar'),\r\n  5\r\n);\r\n\r\n\r\n\r\nsliderArrowPrevious.addEventListener('click', ()=>{\r\n  sliderSlide('previous');\r\n});\r\nsliderArrowNext.addEventListener('click', ()=>{\r\n  sliderSlide('next');\r\n});\r\n\r\nsliderArrowPrevious.addEventListener('mouseover', ()=>{\r\n  progressbar.stop();\r\n});\r\nsliderArrowNext.addEventListener('mouseover', ()=>{\r\n  progressbar.stop();\r\n});\r\nsliderArrowPrevious.addEventListener('mouseout', ()=>{\r\n  progressbar.start();\r\n});\r\nsliderArrowNext.addEventListener('mouseout', ()=>{\r\n  progressbar.start();\r\n});\r\n"],"file":"team.js"}