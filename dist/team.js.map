{"version":3,"sources":["../src/js/team.js"],"names":["teamData","teamData_len","LoadDataJSON","Promise","resolve","reject","xhr","XMLHttpRequest","responseType","addEventListener","status","response","team","length","open","rootUrl","send","PreloadTeamPhotos","i","Image","src","photo","slider_current_member","sliderChooseMember","member","member_i","sliderCheckInfo","data","el","sliderContact","sliderRole","classList","add","sliderImg","style","display","remove","sliderText","sliderDisplayInfo","time","sliderName","forEach","name","role","contact","text","dataLen","timer","setTimeout","innerHTML","slice","sliderClearInfo","elLen","sliderFadeIn","direction","sliderFadeOut","sliderSlide","sliderEl","document","querySelector","parseFloat","getComputedStyle","sliderArrowPrevious","sliderArrowNext","window","then","res","progressbar","start","Progressbar","stop"],"mappings":"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","sourcesContent":["'use strict';\r\n\r\n/* Load Team Data from src/team.json */\r\n\r\nlet teamData; // full data from the sever\r\nlet teamData_len; // amount of team members\r\n\r\nfunction LoadDataJSON() {\r\n  return new Promise((resolve, reject) => {\r\n\r\n    // AJAX call for JSON data from the server\r\n    let xhr = new XMLHttpRequest();\r\n    xhr.responseType = 'json';\r\n\r\n    xhr.addEventListener('load', function () {\r\n      if (xhr.status === 200) {\r\n        teamData = xhr.response;\r\n        teamData_len = teamData.team.length;\r\n        resolve();\r\n      }\r\n    });\r\n\r\n    xhr.open('POST', rootUrl + 'src/team.json', true);\r\n    xhr.send();\r\n\r\n  });\r\n}\r\n\r\nfunction PreloadTeamPhotos() {\r\n  // preload photos to browser memory for faster loading when switching between people\r\n  for(let i = 0; i < teamData_len; i++) {\r\n    new Image().src = rootUrl + teamData.team[i].photo;\r\n  }\r\n}\r\n\r\n\r\n\r\n// member from the array being shown in the slider\r\n// start at -1 (no member shown)\r\nlet slider_current_member = -1;\r\n\r\nfunction sliderChooseMember(member) {\r\n  let member_i = slider_current_member;\r\n\r\n  if (member === 'previous') {\r\n    if ((slider_current_member - 1) < 0) {\r\n      // if out of range then take the last person\r\n      member_i = teamData_len - 1;\r\n    } else {\r\n      member_i -= 1;\r\n    }\r\n\r\n  } else if (member === 'next') {\r\n    if( (slider_current_member + 1) === teamData_len ) {\r\n      // if out of range then take the first person\r\n      member_i = 0;\r\n    } else {\r\n      member_i += 1;\r\n    }\r\n\r\n  } else {\r\n    member_i = member;\r\n  }\r\n\r\n  slider_current_member = member_i;\r\n  return member_i;\r\n}\r\n\r\n\r\n\r\nfunction sliderCheckInfo(data, el) {\r\n  if(data === '') { // no data\r\n\r\n    if (el === sliderContact || el === sliderRole) {\r\n      data = 'Co ty tu robisz czarodzieju?';\r\n      el.classList.add('slider__el--invisible');\r\n    }\r\n\r\n    if(el === sliderImg) {\r\n      sliderImg.style.display = 'none';\r\n    }\r\n\r\n  } else {\r\n\r\n    if (el === sliderContact || el === sliderRole) {\r\n      el.classList.remove('slider__el--invisible');\r\n    }\r\n\r\n    if (el === sliderText) {\r\n      if (data.length > 130) {\r\n        data = 'ERROR: THE TEXT WAS TOO LONG';\r\n      } else {\r\n        data = '\"' + data + '\"';\r\n      }\r\n    }\r\n\r\n    if(el === sliderImg) {\r\n      sliderImg.style.display = 'block';\r\n    }\r\n\r\n  }\r\n  return data;\r\n}\r\n\r\n\r\nfunction sliderDisplayInfo(time, member_i) {\r\n  let member = teamData.team[member_i];\r\n\r\n  [sliderName, sliderRole, sliderContact, sliderText].forEach(el => {\r\n    let data = '';\r\n    if(el === sliderName)    { data = sliderCheckInfo(member.name,    el); }\r\n    if(el === sliderRole)    { data = sliderCheckInfo(member.role,    el); }\r\n    if(el === sliderContact) { data = sliderCheckInfo(member.contact, el); }\r\n    if(el === sliderText)    { data = sliderCheckInfo(member.text,    el); }\r\n\r\n    let dataLen = data.length;\r\n    let timer = time / dataLen;\r\n    for(let i = 0; i <= dataLen; i++) {\r\n      setTimeout(()=>{\r\n        el.innerHTML = data.slice(0, i);\r\n      }, timer*i);\r\n    }\r\n  });\r\n\r\n  sliderImg.src = sliderCheckInfo(member.photo, sliderImg);\r\n}\r\n\r\nfunction sliderClearInfo(time) {\r\n  [sliderName, sliderRole, sliderContact, sliderText].forEach(el => {\r\n    let elLen = el.innerHTML.length;\r\n    let timer = time / elLen;\r\n    for(let i = 1; i <= elLen; i++) {\r\n      setTimeout(()=>{\r\n        el.innerHTML = el.innerHTML.slice(0, elLen-i);\r\n      }, timer*i);\r\n    }\r\n  });\r\n}\r\n\r\nfunction sliderFadeIn(time, direction) {\r\n  // showing photo after additional one transition time (giving it time to load)\r\n  setTimeout(()=>{\r\n    sliderImg.classList.remove('slider__el--transparent');\r\n  }, time);\r\n\r\n  // showing info letter by letter\r\n  sliderDisplayInfo(time, sliderChooseMember(direction));\r\n}\r\n\r\nfunction sliderFadeOut(time) {\r\n  // make photo transparent\r\n  sliderImg.classList.add('slider__el--transparent');\r\n\r\n  // remove info letter by letter\r\n  sliderClearInfo(time);\r\n}\r\n\r\nfunction sliderSlide(direction) {\r\n  let sliderEl = document.querySelector('.slider__el');\r\n  // time for how long it takes to hide or show the photo (one transition)\r\n  let time = parseFloat(getComputedStyle(sliderEl)['transitionDuration'])*1000;\r\n\r\n  sliderFadeOut(time);\r\n\r\n  // after one transition length show the info\r\n  // after two lengths show the img (giving it time to load)\r\n  setTimeout(()=>{\r\n    sliderFadeIn(time, direction);\r\n  }, time);\r\n}\r\n\r\n\r\n\r\nsliderArrowPrevious.addEventListener('click', ()=>{\r\n  sliderSlide('previous');\r\n});\r\nsliderArrowNext.addEventListener('click', ()=>{\r\n  sliderSlide('next');\r\n});\r\n\r\n\r\n// when site loads - preload photos and load the first person\r\nwindow.addEventListener('load', ()=>{\r\n  LoadDataJSON().then(res => {\r\n    PreloadTeamPhotos();\r\n    sliderSlide('next');\r\n  });\r\n\r\n  progressbar.start(); // run the progressbar from progressbar.js\r\n});\r\n\r\n\r\n/* ProgressBar */\r\nlet progressbar = new Progressbar(\r\n  document.querySelector('.slider__progress-bar'),\r\n  3\r\n);\r\n\r\nsliderArrowPrevious.addEventListener('mouseover', ()=>{\r\n  progressbar.stop();\r\n});\r\nsliderArrowNext.addEventListener('mouseover', ()=>{\r\n  progressbar.stop();\r\n});\r\nsliderArrowPrevious.addEventListener('mouseout', ()=>{\r\n  progressbar.start();\r\n});\r\nsliderArrowNext.addEventListener('mouseout', ()=>{\r\n  progressbar.start();\r\n});\r\n"],"file":"team.js"}